exports.id=3645,exports.ids=[3645],exports.modules={1720:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},11448:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},18689:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>a});var s=r(60687),n=r(43210),o=r(82136);let i=(0,n.createContext)(void 0);function a({children:e}){let{data:t}=(0,o.useSession)(),[r,a]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),u=e=>{a(t=>t.filter(t=>t.id!==e))},m=()=>r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.jsx)(i.Provider,{value:{items:r,addItem:e=>{a(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeItem:u,updateQuantity:(e,t)=>{if(t<=0)return void u(e);a(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{if(a([]),t?.user?.id){let e=`cart_${t.user.id}`;localStorage.removeItem(e)}},getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0),getTotalPrice:m,getSubtotal:()=>m(),isLoaded:l},children:e})}},20382:(e,t,r)=>{Promise.resolve().then(r.bind(r,18689)),Promise.resolve().then(r.bind(r,35296)),Promise.resolve().then(r.bind(r,63249)),Promise.resolve().then(r.bind(r,26386))},21112:(e,t,r)=>{"use strict";r.d(t,{UserProvider:()=>n});var s=r(12907);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call UserProvider() from the server but UserProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/UserProvider.tsx","UserProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useUser() from the server but useUser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/UserProvider.tsx","useUser")},25799:(e,t,r)=>{"use strict";r.d(t,{Fe:()=>i,V:()=>n,tH:()=>o});class s{setInstant(e,t){this.memoryCache.set(e,t)}getInstant(e){return this.memoryCache.get(e)||null}set(e,t,r=30){this.memoryCache.set(e,t),this.cache.set(e,{data:t,timestamp:Date.now(),ttl:60*r*1e3})}get(e){let t=this.memoryCache.get(e);if(t)return t;let r=this.cache.get(e);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(e),this.memoryCache.delete(e),null):(this.memoryCache.set(e,r.data),r.data):null}delete(e){this.cache.delete(e),this.memoryCache.delete(e),this.requestCache.delete(e)}clear(){this.cache.clear(),this.memoryCache.clear(),this.requestCache.clear()}async deduplicatedFetch(e,t){let r=`${e}_${JSON.stringify(t||{})}`;if(this.requestCache.has(r))return console.log(`🔄 DEDUPED: ${e}`),this.requestCache.get(r);let s=fetch(e,t).then(e=>{if(!e.ok)throw Error(`HTTP ${e.status}`);return e.json()}).then(e=>(this.requestCache.delete(r),e)).catch(e=>{throw this.requestCache.delete(r),e});return this.requestCache.set(r,s),s}constructor(){this.cache=new Map,this.memoryCache=new Map,this.requestCache=new Map}}let n=new s;async function o(e,t,r=30){let s=`${e}_${JSON.stringify(t||{})}`,i=n.getInstant(s);if(i)return console.log(`⚡ INSTANT cache hit: ${e}`),i;let a=n.get(s);if(a)return console.log(`🚀 Fast cache hit: ${e}`),a;console.log(`🌐 Network fetch: ${e}`);let l=await n.deduplicatedFetch(e,t);return n.set(s,l,r),l}n.setInstant("categories",[{key:"all",label:"All Items",emoji:"\uD83C\uDF7D️"},{key:"breakfast",label:"Breakfast",emoji:"\uD83C\uDF05"},{key:"lunch",label:"Lunch",emoji:"\uD83C\uDF1E"},{key:"dinner",label:"Dinner",emoji:"\uD83C\uDF19"},{key:"beverages",label:"Beverages",emoji:"☕"},{key:"snacks",label:"Snacks",emoji:"\uD83C\uDF7F"}]),n.setInstant("app_config",{taxRate:.1,deliveryFee:0,minOrderAmount:50}),n.set.bind(n),n.get.bind(n),n.delete.bind(n),n.clear.bind(n);let i=o},26386:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,UserProvider:()=>l});var s=r(60687),n=r(43210),o=r(82136),i=r(25799);let a=(0,n.createContext)(void 0);function l({children:e}){let{data:t,status:r}=(0,o.useSession)(),[l,c]=(0,n.useState)(null),[d,h]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[p,f]=(0,n.useState)(!1),v=(0,n.useCallback)(async()=>{if(!t?.user?.id){c(null),h(!1);return}try{h(!0),m(null);let e=`user_${t.user.id}`,r=i.V.getInstant(e);if(r){console.log("⚡ INSTANT user data from cache"),c(r),h(!1);return}let s=await (0,i.tH)(`/api/user/${t.user.id}`,{},30);if(s.user)c(s.user),i.V.setInstant(e,s.user);else throw Error("User data not found in response")}catch(e){console.error("Error fetching user data:",e),e.message?.includes("404")?(console.warn("User not found in database, forcing logout"),m("User account not found. Please login again."),await (0,o.signOut)({callbackUrl:"/auth/signin",redirect:!0})):e.message?.includes("401")?(console.warn("Unauthorized access, forcing logout"),await (0,o.signOut)({callbackUrl:"/auth/signin",redirect:!0})):m("Failed to fetch user data")}finally{h(!1)}},[t?.user?.id]);return(0,s.jsx)(a.Provider,{value:{user:l,loading:d||"loading"===r||!p,error:u,refetch:v,isMounted:p},children:e})}function c(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},27054:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(12907);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","default");(0,s.registerClientReference)(function(){throw Error("Attempted to call LoadingTransition() from the server but LoadingTransition is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","LoadingTransition"),(0,s.registerClientReference)(function(){throw Error("Attempted to call ButtonPress() from the server but ButtonPress is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","ButtonPress"),(0,s.registerClientReference)(function(){throw Error("Attempted to call SlideUpModal() from the server but SlideUpModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","SlideUpModal")},35296:(e,t,r)=>{"use strict";r.d(t,{default:()=>c,g3:()=>d});var s=r(60687),n=r(88920),o=r(26001),i=r(16189),a=r(43210);let l=e=>e.startsWith("/auth/")||e.startsWith("/student")||e.startsWith("/admin")?{initial:{x:"100%"},exit:{x:"-100%"}}:{initial:{opacity:0},exit:{opacity:0}};function c({children:e}){let t=(0,i.usePathname)(),[r,c]=(0,a.useState)(!1);if(!r)return(0,s.jsx)("div",{className:"w-full min-h-full",children:e});let d=l(t);return(0,s.jsx)(n.N,{mode:"wait",children:(0,s.jsx)(o.P.div,{initial:d.initial,animate:{x:0,opacity:1,scale:1},exit:d.exit,transition:{type:"tween",ease:[.22,1,.36,1],duration:.4},className:"w-full min-h-full",children:e},t)})}function d({children:e,className:t,...r}){return(0,s.jsx)(o.P.button,{whileTap:{scale:.95},whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},className:t,...r,children:e})}},46471:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>n});var s=r(12907);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call CartProvider() from the server but CartProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/CartProvider.tsx","CartProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useCart() from the server but useCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/CartProvider.tsx","useCart")},57174:(e,t,r)=>{Promise.resolve().then(r.bind(r,46471)),Promise.resolve().then(r.bind(r,27054)),Promise.resolve().then(r.bind(r,99399)),Promise.resolve().then(r.bind(r,21112))},61135:()=>{},63249:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(60687),n=r(82136);function o({children:e}){return(0,s.jsx)(n.SessionProvider,{children:e})}},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>d,viewport:()=>h});var s=r(37413),n=r(276),o=r.n(n);r(61135);var i=r(99399),a=r(21112),l=r(46471),c=r(27054);let d={title:"Aieraa Hostel - Food Ordering App",description:"Pre-order your hostel meals easily and skip the queue",manifest:"/manifest.json"},h={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#16a34a"};function u({children:e}){return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:`${o().className} ${o().variable}`,children:(0,s.jsx)(i.default,{children:(0,s.jsx)(a.UserProvider,{children:(0,s.jsx)(l.CartProvider,{children:(0,s.jsx)(c.default,{children:e})})})})})})}},99399:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bharat/Desktop/aieraa-hostel/src/components/SessionWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/SessionWrapper.tsx","default")}};