exports.id=3645,exports.ids=[3645],exports.modules={1720:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},11448:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},18689:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>a});var s=r(60687),o=r(43210),n=r(82136);let i=(0,o.createContext)(void 0);function a({children:e}){let{data:t}=(0,n.useSession)(),[r,a]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),h=e=>{a(t=>t.filter(t=>t.id!==e))},p=()=>r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.jsx)(i.Provider,{value:{items:r,addItem:e=>{a(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeItem:h,updateQuantity:(e,t)=>{if(t<=0)return void h(e);a(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{if(a([]),t?.user?.id){let e=`cart_${t.user.id}`;localStorage.removeItem(e)}},getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0),getTotalPrice:p,getSubtotal:()=>p(),isLoaded:l},children:e})}},20382:(e,t,r)=>{Promise.resolve().then(r.bind(r,18689)),Promise.resolve().then(r.bind(r,35296)),Promise.resolve().then(r.bind(r,63249)),Promise.resolve().then(r.bind(r,26386))},21112:(e,t,r)=>{"use strict";r.d(t,{UserProvider:()=>o});var s=r(12907);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call UserProvider() from the server but UserProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/UserProvider.tsx","UserProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useUser() from the server but useUser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/UserProvider.tsx","useUser")},25799:(e,t,r)=>{"use strict";r.d(t,{Fe:()=>a,O6:()=>i});class s{set(e,t,r=3e5){this.cache.set(e,{data:t,timestamp:Date.now(),ttl:r})}get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}cleanup(){let e=Date.now();for(let[t,r]of Array.from(this.cache.entries()))e-r.timestamp>r.ttl&&this.cache.delete(t)}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}constructor(){this.cache=new Map}}let o=new s;setInterval(()=>{o.cleanup()},6e5);class n{set(e,t,r=5){this.cache.set(e,{data:t,timestamp:Date.now(),ttl:60*r*1e3})}get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}clear(){this.cache.clear()}delete(e){this.cache.delete(e)}constructor(){this.cache=new Map}}let i=new n;async function a(e,t,r=5){let s=`fetch_${e}_${JSON.stringify(t||{})}`,o=i.get(s);if(o)return console.log(`📦 Cache hit for: ${e}`),o;console.log(`🌐 Fetching from API: ${e}`);let n=await fetch(e,t);if(!n.ok)throw Error(`HTTP error! status: ${n.status}`);let l=await n.json();return i.set(s,l,r),l}},26386:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,UserProvider:()=>l});var s=r(60687),o=r(43210),n=r(82136),i=r(25799);let a=(0,o.createContext)(void 0);function l({children:e}){let{data:t,status:r}=(0,n.useSession)(),[l,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(!0),[h,p]=(0,o.useState)(null),[m,f]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),P=(0,o.useCallback)(async()=>{if(!t?.user?.id){c(null),u(!1);return}if(!v||!d)try{b(!0),u(!0),p(null);let e=await (0,i.Fe)(`/api/user/${t.user.id}`,{},10);if(e.user)c(e.user);else throw Error("User data not found in response")}catch(e){console.error("Error fetching user data:",e),e.message?.includes("404")?(console.warn("User not found in database, forcing logout"),p("User account not found. Please login again."),await (0,n.signOut)({callbackUrl:"/auth/signin",redirect:!0})):e.message?.includes("401")?(console.warn("Unauthorized access, forcing logout"),await (0,n.signOut)({callbackUrl:"/auth/signin",redirect:!0})):p("Failed to fetch user data")}finally{u(!1),b(!1)}},[t?.user?.id,v,d]);return(0,s.jsx)(a.Provider,{value:{user:l,loading:d||"loading"===r||!m,error:h,refetch:P,isMounted:m},children:e})}function c(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},27054:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(12907);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","default");(0,s.registerClientReference)(function(){throw Error("Attempted to call LoadingTransition() from the server but LoadingTransition is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","LoadingTransition"),(0,s.registerClientReference)(function(){throw Error("Attempted to call ButtonPress() from the server but ButtonPress is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","ButtonPress"),(0,s.registerClientReference)(function(){throw Error("Attempted to call SlideUpModal() from the server but SlideUpModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/PageTransition.tsx","SlideUpModal")},35296:(e,t,r)=>{"use strict";r.d(t,{default:()=>c,g3:()=>d});var s=r(60687),o=r(88920),n=r(26001),i=r(16189),a=r(43210);let l=e=>e.startsWith("/auth/")||e.startsWith("/student")||e.startsWith("/admin")?{initial:{x:"100%"},exit:{x:"-100%"}}:{initial:{opacity:0},exit:{opacity:0}};function c({children:e}){let t=(0,i.usePathname)(),[r,c]=(0,a.useState)(!1);if(!r)return(0,s.jsx)("div",{className:"w-full min-h-full",children:e});let d=l(t);return(0,s.jsx)(o.N,{mode:"wait",children:(0,s.jsx)(n.P.div,{initial:d.initial,animate:{x:0,opacity:1,scale:1},exit:d.exit,transition:{type:"tween",ease:[.22,1,.36,1],duration:.4},className:"w-full min-h-full",children:e},t)})}function d({children:e,className:t,...r}){return(0,s.jsx)(n.P.button,{whileTap:{scale:.95},whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},className:t,...r,children:e})}},46471:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>o});var s=r(12907);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call CartProvider() from the server but CartProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/CartProvider.tsx","CartProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useCart() from the server but useCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/CartProvider.tsx","useCart")},57174:(e,t,r)=>{Promise.resolve().then(r.bind(r,46471)),Promise.resolve().then(r.bind(r,27054)),Promise.resolve().then(r.bind(r,99399)),Promise.resolve().then(r.bind(r,21112))},61135:()=>{},63249:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(60687),o=r(82136);function n({children:e}){return(0,s.jsx)(o.SessionProvider,{children:e})}},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>d,viewport:()=>u});var s=r(37413),o=r(276),n=r.n(o);r(61135);var i=r(99399),a=r(21112),l=r(46471),c=r(27054);let d={title:"Aieraa Hostel - Food Ordering App",description:"Pre-order your hostel meals easily and skip the queue",manifest:"/manifest.json"},u={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#16a34a"};function h({children:e}){return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:`${n().className} ${n().variable}`,children:(0,s.jsx)(i.default,{children:(0,s.jsx)(a.UserProvider,{children:(0,s.jsx)(l.CartProvider,{children:(0,s.jsx)(c.default,{children:e})})})})})})}},99399:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bharat/Desktop/aieraa-hostel/src/components/SessionWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/components/SessionWrapper.tsx","default")}};