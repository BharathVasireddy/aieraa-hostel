(()=>{var e={};e.id=3612,e.ids=[3612],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12941:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23259:(e,s,t)=>{Promise.resolve().then(t.bind(t,59006))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32192:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33873:e=>{"use strict";e.exports=require("path")},33875:(e,s,t)=>{Promise.resolve().then(t.bind(t,88539))},40083:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},46234:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},48730:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},51361:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},53411:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},58869:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},59006:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bharat/Desktop/aieraa-hostel/src/app/student/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/app/student/profile/page.tsx","default")},60090:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>p,tree:()=>d});var a=t(65239),r=t(48088),l=t(88170),i=t.n(l),n=t(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d={children:["",{children:["student",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,59006)),"/Users/bharat/Desktop/aieraa-hostel/src/app/student/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/bharat/Desktop/aieraa-hostel/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/bharat/Desktop/aieraa-hostel/src/app/student/profile/page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/student/profile/page",pathname:"/student/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62688:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(43210);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:n="",children:c,iconNode:d,...o},h)=>(0,a.createElement)("svg",{ref:h,...i,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:l("lucide",n),...o},[...d.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]])),c=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...i},c)=>(0,a.createElement)(n,{ref:c,iconNode:s,className:l(`lucide-${r(e)}`,t),...i}));return t.displayName=`${e}`,t}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74355:(e,s,t)=>{"use strict";t.d(s,{A:()=>m});var a=t(60687),r=t(32192),l=t(75937),i=t(48730),n=t(84027);let c=(0,t(62688).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var d=t(46234),o=t(53411),h=t(16189),p=t(43210),u=t(82136);function m(){let e=(0,h.useRouter)(),s=(0,h.usePathname)(),{data:t}=(0,u.useSession)(),m=(0,p.useCallback)(t=>{s!==t&&e.push(t)},[e,s]),x=t?.user?.role==="ADMIN"||t?.user?.role==="MANAGER"?"manager":"student",y=[{icon:r.A,label:"Home",path:"/student",isActive:"/student"===s},{icon:l.A,label:"Menu",path:"/student/menu",isActive:"/student/menu"===s},{icon:i.A,label:"Orders",path:"/student/orders",isActive:"/student/orders"===s},{icon:n.A,label:"Profile",path:"/student/profile",isActive:"/student/profile"===s}],g=[{icon:r.A,label:"Dashboard",path:"/admin",isActive:"/admin"===s},{icon:c,label:"Orders",path:"/admin/orders",isActive:"/admin/orders"===s},{icon:d.A,label:"Menu",path:"/admin/menu",isActive:"/admin/menu"===s},{icon:o.A,label:"Analytics",path:"/admin/analytics",isActive:"/admin/analytics"===s},{icon:n.A,label:"Settings",path:"/admin/settings",isActive:"/admin/settings"===s}];return"/"===s||s.startsWith("/auth/")?null:(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-pb",children:(0,a.jsx)("div",{className:`grid ${"manager"===x?"grid-cols-5":"grid-cols-4"}`,children:("student"===x?y:g).map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>m(e.path),className:`flex flex-col items-center justify-center py-3 px-1 transition-colors duration-200 ${e.isActive?"text-green-600 bg-green-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[(0,a.jsx)(s,{className:`${"manager"===x?"w-4 h-4":"w-5 h-5"} mb-1`}),(0,a.jsx)("span",{className:`font-medium ${"manager"===x?"text-[10px]":"text-xs"}`,children:e.label})]},e.path)})})})}},75937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]])},76033:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(60687),r=t(12941),l=t(99270),i=t(97051);function n({title:e,showSearch:s=!1,showNotifications:t=!0,showMenu:n=!1,onMenuClick:c,rightElement:d}){return(0,a.jsx)("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[n&&(0,a.jsx)("button",{onClick:c,className:"mr-3 p-2 -ml-2 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(r.A,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:e})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,a.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(l.A,{className:"h-5 w-5 text-gray-600"})}),t&&(0,a.jsxs)("button",{className:"p-2 rounded-lg hover:bg-gray-100 relative",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-600"}),(0,a.jsx)("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),d]})]})})}},84027:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},88539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(60687),r=t(43210),l=t(58869),i=t(51361),n=t(99891);let c=(0,t(62688).A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=t(40083),o=t(82136),h=t(16189),p=t(76033),u=t(74355);function m(){let{data:e}=(0,o.useSession)(),s=(0,h.useRouter)(),[t,m]=(0,r.useState)(null),[x,y]=(0,r.useState)(!0),[g,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),w=async s=>{let t=s.target.files?.[0];if(t){if(!t.type.startsWith("image/"))return void alert("Please select a valid image file");if(t.size>5242880)return void alert("Image size must be less than 5MB");f(!0);try{new FormData().append("file",t);let s=URL.createObjectURL(t);if((await fetch(`/api/user/${e?.user?.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileImage:s})})).ok)m(e=>e?{...e,profileImage:s}:null),alert("Profile image updated successfully!");else throw Error("Failed to update profile image")}catch(e){console.error("Error uploading image:",e),alert("Failed to upload image. Please try again.")}finally{f(!1)}}},A=async()=>{try{await (0,o.signOut)({redirect:!1,callbackUrl:"/auth/signin"}),s.push("/auth/signin")}catch(e){console.error("Logout error:",e)}};return x?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsx)(p.A,{title:"Profile",showNotifications:!0}),(0,a.jsx)("div",{className:"px-4 py-4",children:(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded w-32 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsx)(p.A,{title:"Profile",showNotifications:!0}),(0,a.jsxs)("div",{className:"px-4 py-4 space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden",children:t?.profileImage?(0,a.jsx)("img",{src:t.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)(l.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsxs)("label",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:w,className:"hidden",disabled:g}),g?(0,a.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(i.A,{className:"w-3 h-3 text-white"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t?.name||"Student Name"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t?.studentId||"Student ID: Loading..."}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t?.roomNumber||"Room: Not assigned"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:t?.university?.name||"University Name"})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Account"})}),(0,a.jsxs)("div",{className:"space-y-0",children:[(0,a.jsxs)("button",{onClick:()=>{v(!0)},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-900",children:"Edit Profile"})]}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,a.jsxs)("button",{onClick:()=>{N(!0)},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-900",children:"Privacy & Security"})]}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Support"})}),(0,a.jsxs)("div",{className:"space-y-0",children:[(0,a.jsxs)("button",{onClick:()=>{s.push("/student/help-support")},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-900",children:"Help & Support"})]}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,a.jsxs)("button",{onClick:()=>{window.confirm("Would you like to rate our app? This will open your app store.")&&window.open("https://play.google.com/store","_blank")},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:"⭐"}),(0,a.jsx)("span",{className:"text-gray-900",children:"Rate Our App"})]}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCF1"}),(0,a.jsx)("span",{className:"text-gray-900",children:"App Version"})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"v1.0.0"})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm",children:(0,a.jsxs)("button",{onClick:A,className:"w-full flex items-center justify-between p-4 hover:bg-red-50 text-red-600 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Logout"})]}),(0,a.jsx)("span",{className:"text-red-400",children:"›"})]})})]}),(0,a.jsx)(u.A,{})]})}},97051:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},99270:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},99891:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[4243,4848,3645],()=>t(60090));module.exports=a})();