(()=>{var e={};e.id=8808,e.ids=[8808],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8819:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},12597:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},13263:(e,s,t)=>{Promise.resolve().then(t.bind(t,41008))},13861:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},13964:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32192:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33873:e=>{"use strict";e.exports=require("path")},40083:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},40228:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41008:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>M});var a=t(60687),r=t(43210),l=t(43649),i=t(13964),n=t(11860),d=t(51361),c=t(58869),o=t(99891),m=t(58559),x=t(75034),h=t(8819),u=t(19169),p=t(48340),y=t(84027),g=t(40228),f=t(12597),b=t(13861),j=t(40083),v=t(82136),N=t(16189),w=t(74355),A=t(63737),k=t(25799);function M(){let{data:e}=(0,v.useSession)(),s=(0,N.useRouter)(),[t,M]=(0,r.useState)(null),[P,C]=(0,r.useState)(!0),[S,E]=(0,r.useState)("profile"),[L,z]=(0,r.useState)(!1),[D,q]=(0,r.useState)({name:"",email:"",phone:""}),[U,_]=(0,r.useState)(!1),[F,H]=(0,r.useState)(!1),[O,V]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[G,I]=(0,r.useState)({current:!1,new:!1,confirm:!1}),[T,R]=(0,r.useState)(!1),[$,Y]=(0,r.useState)(!1),[B,J]=(0,r.useState)(null),Z=async()=>{try{C(!0);let e=await (0,k.Fe)("/api/admin/profile",{},10);if(e.profile)M(e.profile),q({name:e.profile.name||"",email:e.profile.email||"",phone:e.profile.phone||""});else throw Error("Failed to fetch profile")}catch(e){console.error("Error fetching profile:",e),W("error","Failed to load profile data")}finally{C(!1)}},W=(e,s)=>{J({type:e,message:s}),setTimeout(()=>J(null),5e3)},X=async e=>{let s=e.target.files?.[0];if(s){if(!s.type.startsWith("image/"))return void W("error","Please select an image file");if(s.size>5242880)return void W("error","Please select an image smaller than 5MB");Y(!0);try{let e=URL.createObjectURL(s),t=await fetch("/api/admin/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...D,profileImage:e})});if(t.ok){let e=await t.json();M(e.profile),W("success","Profile picture updated successfully")}else throw Error("Failed to update profile picture")}catch(e){console.error("Error uploading image:",e),W("error","Failed to upload image")}finally{Y(!1)}}},K=async()=>{if(!D.name||!D.email)return void W("error","Name and email are required");_(!0);try{let e=await fetch("/api/admin/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),s=await e.json();e.ok?(M(s.profile),z(!1),W("success","Profile updated successfully")):W("error",s.error||"Failed to update profile")}catch(e){console.error("Error updating profile:",e),W("error","Failed to update profile")}finally{_(!1)}},Q=async()=>{if(!O.currentPassword||!O.newPassword||!O.confirmPassword)return void W("error","All password fields are required");if(O.newPassword!==O.confirmPassword)return void W("error","New passwords do not match");if(O.newPassword.length<6)return void W("error","New password must be at least 6 characters long");R(!0);try{let e=await fetch("/api/admin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),s=await e.json();e.ok?(V({currentPassword:"",newPassword:"",confirmPassword:""}),H(!1),W("success","Password changed successfully")):W("error",s.error||"Failed to change password")}catch(e){console.error("Error changing password:",e),W("error","Failed to change password")}finally{R(!1)}},ee=async()=>{confirm("Are you sure you want to logout?")&&await (0,v.signOut)({callbackUrl:"/auth/signin"})};return P?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[B&&(0,a.jsx)("div",{className:`fixed top-4 left-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===B.type?"bg-green-50 border border-green-200 text-green-800":"error"===B.type?"bg-red-50 border border-red-200 text-red-800":"bg-yellow-50 border border-yellow-200 text-yellow-800"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:["success"===B.type&&(0,a.jsx)(i.A,{className:"w-5 h-5"}),"error"===B.type&&(0,a.jsx)(n.A,{className:"w-5 h-5"}),"warning"===B.type&&(0,a.jsx)(l.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:B.message})]}),(0,a.jsx)("button",{onClick:()=>J(null),children:(0,a.jsx)(n.A,{className:"w-4 h-4"})})]})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"My Profile"}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:"ADMIN"===t.role?(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"\uD83D\uDC51 Super Admin"}):(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\uD83C\uDFAF University Manager"})})]}),(0,a.jsx)("button",{onClick:()=>s.push("/admin"),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Back to Dashboard"})]})}),(0,a.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center overflow-hidden",children:t.profileImage?(0,a.jsx)("img",{src:t.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"text-2xl font-bold text-white",children:t.name?.charAt(0)?.toUpperCase()||"A"})}),(0,a.jsxs)("label",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:X,className:"hidden",disabled:$}),$?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(d.A,{className:"w-4 h-4 text-white"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:t.email}),t.phone&&(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:t.phone}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,a.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${"ADMIN"===t.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:t.role}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:t.status})]})]})]}),t.university&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"University Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Institution"}),(0,a.jsx)("p",{className:"font-medium",children:t.university.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Code"}),(0,a.jsx)("p",{className:"font-medium",children:t.university.code})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Location"}),(0,a.jsxs)("p",{className:"font-medium",children:[t.university.city,", ",t.university.state,", ",t.university.country]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Contact"}),(0,a.jsx)("p",{className:"font-medium",children:t.university.contactEmail})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,a.jsxs)("button",{onClick:()=>E("profile"),className:`flex-1 px-4 py-3 text-sm font-medium ${"profile"===S?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[(0,a.jsx)(c.A,{className:"w-4 h-4 inline mr-2"}),"Profile"]}),(0,a.jsxs)("button",{onClick:()=>E("security"),className:`flex-1 px-4 py-3 text-sm font-medium ${"security"===S?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[(0,a.jsx)(o.A,{className:"w-4 h-4 inline mr-2"}),"Security"]}),(0,a.jsxs)("button",{onClick:()=>E("activity"),className:`flex-1 px-4 py-3 text-sm font-medium ${"activity"===S?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[(0,a.jsx)(m.A,{className:"w-4 h-4 inline mr-2"}),"Activity"]})]}),(0,a.jsxs)("div",{className:"p-6",children:["profile"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),(0,a.jsxs)("button",{onClick:()=>{L?(q({name:t.name||"",email:t.email||"",phone:t.phone||""}),z(!1)):z(!0)},className:"flex items-center space-x-2 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:L?"Cancel":"Edit"})]})]}),L?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",value:D.name,onChange:e=>q({...D,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",value:D.email,onChange:e=>q({...D,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:D.phone,onChange:e=>q({...D,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsxs)("button",{onClick:K,disabled:U,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[U?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(h.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Save Changes"})]})})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Full Name"})]}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:t.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Email Address"})]}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:t.email})]}),t.phone&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Phone Number"})]}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:t.phone})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Account Type"})]}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:t.role})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Member Since"})]}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:(0,A.GP)(new Date(t.createdAt),"MMMM dd, yyyy")})]}),t.lastLoginAt&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Last Login"})]}),(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:(0,A.GP)(new Date(t.lastLoginAt),"MMMM dd, yyyy h:mm a")})]})]})]})]}),"security"===S&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Password & Security"}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Account Security"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Your account is secured with a strong password"})]})]})}),(0,a.jsxs)("button",{onClick:()=>H(!F),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Change Password"})]}),F&&(0,a.jsxs)("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:G.current?"text":"password",value:O.currentPassword,onChange:e=>V({...O,currentPassword:e.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"}),(0,a.jsx)("button",{type:"button",onClick:()=>I({...G,current:!G.current}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:G.current?(0,a.jsx)(f.A,{className:"w-4 h-4"}):(0,a.jsx)(b.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:G.new?"text":"password",value:O.newPassword,onChange:e=>V({...O,newPassword:e.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"}),(0,a.jsx)("button",{type:"button",onClick:()=>I({...G,new:!G.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:G.new?(0,a.jsx)(f.A,{className:"w-4 h-4"}):(0,a.jsx)(b.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:G.confirm?"text":"password",value:O.confirmPassword,onChange:e=>V({...O,confirmPassword:e.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"}),(0,a.jsx)("button",{type:"button",onClick:()=>I({...G,confirm:!G.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:G.confirm?(0,a.jsx)(f.A,{className:"w-4 h-4"}):(0,a.jsx)(b.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:Q,disabled:T,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[T?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(i.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Update Password"})]}),(0,a.jsx)("button",{onClick:()=>{H(!1),V({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})}),"activity"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Activity"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Account Created"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Your account was successfully created"})]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,A.GP)(new Date(t.createdAt),"MMM dd, yyyy")})]}),t.lastLoginAt&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Last Login"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"You signed in to your account"})]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,A.GP)(new Date(t.lastLoginAt),"MMM dd, yyyy h:mm a")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(y.A,{className:"w-4 h-4 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Profile Updated"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Your profile information was last updated"})]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,A.GP)(new Date(t.updatedAt),"MMM dd, yyyy")})]})]})]})]})]}),(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-900",children:"Logout"}),(0,a.jsx)("p",{className:"text-red-700 text-sm mt-1",children:"Sign out of your account securely"})]}),(0,a.jsxs)("button",{onClick:ee,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Logout"})]})]})})]}),(0,a.jsx)(w.A,{})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Failed to load profile data"}),(0,a.jsx)("button",{onClick:Z,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}},43649:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},46234:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},48340:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},51361:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},53411:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},58559:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},58869:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},60119:(e,s,t)=>{Promise.resolve().then(t.bind(t,88710))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74355:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var a=t(60687),r=t(32192),l=t(75937),i=t(48730),n=t(84027);let d=(0,t(62688).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var c=t(46234),o=t(53411),m=t(16189),x=t(43210),h=t(82136);function u(){let e=(0,m.useRouter)(),s=(0,m.usePathname)(),{data:t}=(0,h.useSession)(),u=(0,x.useCallback)(t=>{s!==t&&e.push(t)},[e,s]),p=t?.user?.role==="ADMIN"||t?.user?.role==="MANAGER"?"manager":"student",y=[{icon:r.A,label:"Home",path:"/student",isActive:"/student"===s},{icon:l.A,label:"Menu",path:"/student/menu",isActive:"/student/menu"===s},{icon:i.A,label:"Orders",path:"/student/orders",isActive:"/student/orders"===s},{icon:n.A,label:"Profile",path:"/student/profile",isActive:"/student/profile"===s}],g=[{icon:r.A,label:"Dashboard",path:"/admin",isActive:"/admin"===s},{icon:d,label:"Orders",path:"/admin/orders",isActive:"/admin/orders"===s},{icon:c.A,label:"Menu",path:"/admin/menu",isActive:"/admin/menu"===s},{icon:o.A,label:"Analytics",path:"/admin/analytics",isActive:"/admin/analytics"===s},{icon:n.A,label:"Settings",path:"/admin/settings",isActive:"/admin/settings"===s}];return"/"===s||s.startsWith("/auth/")?null:(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-pb",children:(0,a.jsx)("div",{className:`grid ${"manager"===p?"grid-cols-5":"grid-cols-4"}`,children:("student"===p?y:g).map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>u(e.path),className:`flex flex-col items-center justify-center py-3 px-1 transition-colors duration-200 ${e.isActive?"text-green-600 bg-green-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[(0,a.jsx)(s,{className:`${"manager"===p?"w-4 h-4":"w-5 h-5"} mb-1`}),(0,a.jsx)("span",{className:`font-medium ${"manager"===p?"text-[10px]":"text-xs"}`,children:e.label})]},e.path)})})})}},75034:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},75937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]])},84027:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},87050:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c});var a=t(65239),r=t(48088),l=t(88170),i=t.n(l),n=t(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c={children:["",{children:["admin",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,88710)),"/Users/bharat/Desktop/aieraa-hostel/src/app/admin/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/bharat/Desktop/aieraa-hostel/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/bharat/Desktop/aieraa-hostel/src/app/admin/profile/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/profile/page",pathname:"/admin/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88710:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bharat/Desktop/aieraa-hostel/src/app/admin/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bharat/Desktop/aieraa-hostel/src/app/admin/profile/page.tsx","default")},99891:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[4243,4848,9764,3645],()=>t(87050));module.exports=a})();