(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4680],{2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3867:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(5155),l=s(2115),r=s(2108),i=s(5695),n=s(6874),c=s.n(n),d=s(7550),o=s(8749),u=s(2657);let m=(0,s(9946).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var h=s(8932);function x(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),[y,f]=(0,l.useState)(!1),[v,j]=(0,l.useState)(""),g=(0,i.useRouter)(),N=async t=>{t.preventDefault(),f(!0),j("");try{let t=await (0,r.signIn)("credentials",{email:e,password:s,redirect:!1});if(null==t?void 0:t.error)j("Invalid email or password");else{var a,l;let e=await (0,r.getSession)();(null==e||null==(a=e.user)?void 0:a.role)==="ADMIN"?g.push("/admin"):(null==e||null==(l=e.user)?void 0:l.role)==="STUDENT"?g.push("/student"):g.push("/")}}catch(e){j("Something went wrong. Please try again.")}finally{f(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-white flex items-center justify-center px-4 relative",children:[(0,a.jsxs)(h.g3,{onClick:()=>g.back(),className:"absolute top-4 left-4 flex items-center text-gray-600 hover:text-gray-900 transition-colors z-10",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 mr-2"}),"Back"]}),(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("img",{src:"https://aieraa.com/wp-content/uploads/2020/08/Aieraa-Overseas-Logo.png",alt:"Aieraa Logo",className:"w-full h-full object-contain"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Sign in to order your hostel meals"})]}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[v&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-red-800 text-sm",children:v})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"input",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:x?"text":"password",required:!0,value:s,onChange:e=>n(e.target.value),className:"input pr-12",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>p(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?(0,a.jsx)(o.A,{className:"w-5 h-5"}):(0,a.jsx)(u.A,{className:"w-5 h-5"})})]})]}),(0,a.jsx)(h.g3,{type:"submit",disabled:y,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mx-auto"}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(m,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),(0,a.jsx)("div",{className:"mt-6 text-center space-y-2",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(c(),{href:"/auth/signup",className:"text-primary-hover font-medium",children:"Sign up here"})]})})]})]})}},4697:(e,t,s)=>{Promise.resolve().then(s.bind(s,3867))},8749:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8932:(e,t,s)=>{"use strict";s.d(t,{default:()=>d,g3:()=>o});var a=s(5155),l=s(760),r=s(6408),i=s(5695),n=s(2115);let c=e=>e.startsWith("/auth/")||e.startsWith("/student")||e.startsWith("/admin")?{initial:{x:"100%"},exit:{x:"-100%"}}:{initial:{opacity:0},exit:{opacity:0}};function d(e){let{children:t}=e,s=(0,i.usePathname)(),[d,o]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{o(!0)},[]),!d)return(0,a.jsx)("div",{className:"w-full min-h-full",children:t});let u=c(s);return(0,a.jsx)(l.N,{mode:"wait",children:(0,a.jsx)(r.P.div,{initial:u.initial,animate:{x:0,opacity:1,scale:1},exit:u.exit,transition:{type:"tween",ease:[.22,1,.36,1],duration:.4},className:"w-full min-h-full",children:t},s)})}function o(e){let{children:t,className:s,...l}=e;return(0,a.jsx)(r.P.button,{whileTap:{scale:.95},whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},className:s,...l,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6454,1299,8906,8441,1684,7358],()=>t(4697)),_N_E=e.O()}]);