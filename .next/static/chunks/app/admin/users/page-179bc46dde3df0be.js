(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{330:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,E:()=>u});var a=t(5155),r=t(2115),l=t(646),n=t(4861),i=t(5339),d=t(4186),c=t(4416);function o(e){let{notifications:s,onRemove:t}=e;(0,r.useEffect)(()=>{s.forEach(e=>{if(!1!==e.autoClose){let s=setTimeout(()=>{t(e.id)},5e3);return()=>clearTimeout(s)}})},[s,t]);let o=e=>{switch(e){case"success":return(0,a.jsx)(l.A,{className:"w-5 h-5 text-green-600"});case"error":return(0,a.jsx)(n.A,{className:"w-5 h-5 text-red-600"});case"warning":return(0,a.jsx)(i.A,{className:"w-5 h-5 text-orange-600"});case"info":return(0,a.jsx)(d.A,{className:"w-5 h-5 text-blue-600"});default:return(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-600"})}},u=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-orange-50 border-orange-200 text-orange-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}};return 0===s.length?null:(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:s.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 shadow-lg transition-all duration-300 ease-in-out ".concat(u(e.type)),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:o(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold",children:e.title}),(0,a.jsx)("p",{className:"text-sm mt-1",children:e.message}),(0,a.jsx)("p",{className:"text-xs mt-2 opacity-75",children:e.timestamp.toLocaleTimeString()})]}),(0,a.jsx)("button",{onClick:()=>t(e.id),className:"flex-shrink-0 p-1 rounded hover:bg-black hover:bg-opacity-10",children:(0,a.jsx)(c.A,{className:"w-4 h-4"})})]})},e.id))})}let u=()=>{let[e,s]=(0,r.useState)([]);return{notifications:e,addNotification:e=>{let t={...e,id:Date.now().toString()+Math.random(),timestamp:new Date};s(e=>[...e,t])},removeNotification:e=>{s(s=>s.filter(s=>s.id!==e))},clearAllNotifications:()=>{s([])}}}},381:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},646:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},744:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},1007:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1243:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2086:(e,s,t)=>{Promise.resolve().then(t.bind(t,2899))},2713:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},2899:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5155),r=t(4186),l=t(646),n=t(4861),i=t(1243),d=t(7924),c=t(1007),o=t(5196),u=t(4416),x=t(8883),m=t(2115),h=t(6694),g=t(9084),p=t(330),y=t(2108);function b(){var e,s;let[t,b]=(0,m.useState)("PENDING"),[N,j]=(0,m.useState)("all"),[v,f]=(0,m.useState)([]),[A,w]=(0,m.useState)([]),[E,k]=(0,m.useState)(!0),[D,C]=(0,m.useState)(""),[S,M]=(0,m.useState)(!1),[P,R]=(0,m.useState)(null),{notifications:U,addNotification:T,removeNotification:I}=(0,p.E)(),L=(0,y.useSession)();(0,m.useEffect)(()=>{var e,s,t,a;V(),(null==L||null==(s=L.data)||null==(e=s.user)?void 0:e.role)==="ADMIN"?console.log("Super Admin: Can manage all universities"):(null==L||null==(a=L.data)||null==(t=a.user)?void 0:t.role)==="MANAGER"&&console.log("University Manager: Managing your university students")},[L]),(0,m.useEffect)(()=>{O()},[v,t,N,D]);let V=async()=>{try{let e=await fetch("/api/admin/users");if(!e.ok)throw Error("Failed to fetch users");let s=await e.json();f(s),k(!1)}catch(e){console.error("Error:",e),T({type:"error",title:"Error",message:"Failed to load users"}),k(!1)}},O=()=>{let e=v;if("all"!==t&&(e=e.filter(e=>e.status===t)),"all"!==N&&(e=e.filter(e=>e.role===N)),D){let s=D.toLowerCase();e=e.filter(e=>{var t,a,r;return e.name.toLowerCase().includes(s)||e.email.toLowerCase().includes(s)||(null==(t=e.studentId)?void 0:t.toLowerCase().includes(s))||(null==(a=e.roomNumber)?void 0:a.toLowerCase().includes(s))||(null==(r=e.course)?void 0:r.toLowerCase().includes(s))})}w(e)},z=async(e,s,t)=>{try{R(e);let a=await fetch("/api/admin/users/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s,rejectionReason:t})});if(a.ok){let{user:t}=await a.json();f(v.map(s=>s.id===e?t:s)),T({type:"APPROVED"===s?"success":"warning",title:"User Status Updated",message:{APPROVED:"User approved successfully",REJECTED:"User registration rejected",SUSPENDED:"User suspended",PENDING:"User status reset to pending"}[s]||"User status updated"})}else throw Error("Failed to update user status")}catch(e){console.error("Error updating user:",e),T({type:"error",title:"Error",message:"Failed to update user status"})}finally{R(null)}},G=e=>{z(e,"APPROVED")},q=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Registration rejected by admin";z(e,"REJECTED",s)},J=e=>{z(e,"SUSPENDED")},F=e=>{switch(e){case"PENDING":default:return(0,a.jsx)(r.A,{className:"w-4 h-4"});case"APPROVED":return(0,a.jsx)(l.A,{className:"w-4 h-4"});case"REJECTED":return(0,a.jsx)(n.A,{className:"w-4 h-4"});case"SUSPENDED":return(0,a.jsx)(i.A,{className:"w-4 h-4"})}},_=e=>{switch(e){case"PENDING":return"text-orange-600 bg-orange-50 border-orange-200";case"APPROVED":return"text-green-600 bg-green-50 border-green-200";case"REJECTED":return"text-red-600 bg-red-50 border-red-200";case"SUSPENDED":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},H=e=>{switch(e){case"STUDENT":return"text-blue-600 bg-blue-50";case"ADMIN":return"text-purple-600 bg-purple-50";case"CATERER":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},Z=(()=>{let e=v.filter(e=>"PENDING"===e.status).length,s=v.filter(e=>"APPROVED"===e.status).length;return{pending:e,approved:s,rejected:v.filter(e=>"REJECTED"===e.status).length,suspended:v.filter(e=>"SUSPENDED"===e.status).length}})(),B=[{key:"PENDING",label:"Pending",count:Z.pending,color:"orange"},{key:"APPROVED",label:"Approved",count:Z.approved,color:"green"},{key:"REJECTED",label:"Rejected",count:Z.rejected,color:"red"},{key:"SUSPENDED",label:"Suspended",count:Z.suspended,color:"yellow"}];return(0,a.jsxs)("div",{className:"min-h-screen bg-white pb-20",children:[(0,a.jsx)(p.A,{notifications:U,onRemove:I}),(0,a.jsx)("div",{className:"flex flex-col space-y-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Management"}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(null==L||null==(s=L.data)||null==(e=s.user)?void 0:e.role)==="ADMIN"?(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"\uD83D\uDC51 Super Admin - All Universities"}):(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\uD83C\uDFAF University Manager - Your Students"})})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[A.length," student",1!==A.length?"s":""," total"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:[A.filter(e=>"PENDING"===e.status).length," pending approval"]})]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users by name, email, student ID...",value:D,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsxs)("select",{value:N,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Roles"}),(0,a.jsx)("option",{value:"STUDENT",children:"Students"}),(0,a.jsx)("option",{value:"ADMIN",children:"Admins"}),(0,a.jsx)("option",{value:"CATERER",children:"Caterers"})]})})]}),(0,a.jsxs)("div",{className:"px-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-100",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-orange-600",children:Z.pending}),(0,a.jsx)("div",{className:"text-xs text-orange-600",children:"Pending"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-100",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-600",children:Z.approved}),(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Approved"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-100",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-red-600",children:Z.rejected}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"Rejected"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-600",children:Z.suspended}),(0,a.jsx)("div",{className:"text-xs text-yellow-600",children:"Suspended"})]})]}),(0,a.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-4 mb-4",children:B.map(e=>(0,a.jsxs)("button",{onClick:()=>b(e.key),className:"flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(t===e.key?"bg-".concat(e.color,"-600 text-white"):"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.label," (",e.count,")"]},e.key))}),E?(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-100 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]},e))}):0===A.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(c.A,{className:"w-8 h-8 text-gray-400"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:D?"No matching users found":"No ".concat(t.toLowerCase()," users")}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:D?"Try adjusting your search terms":"".concat(t," users will appear here")})]}):(0,a.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-100 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(H(e.role)),children:e.role}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium border ".concat(_(e.status)),children:[F(e.status),(0,a.jsx)("span",{children:e.status})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[e.studentId&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Student ID:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:e.studentId})]}),e.roomNumber&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Room:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:e.roomNumber})]}),e.course&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Course:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:e.course})]}),e.year&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Year:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:e.year})]}),e.phone&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Phone:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:e.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"University:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:e.university.name})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-3",children:["Registered ",(0,h.GP)(new Date(e.createdAt),"MMM dd, yyyy h:mm a"),e.lastLoginAt&&(0,a.jsxs)("span",{className:"ml-4",children:["Last login ",(0,h.GP)(new Date(e.lastLoginAt),"MMM dd, yyyy")]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:["PENDING"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>G(e.id),disabled:P===e.id,className:"flex-1 bg-green-600 text-white text-sm py-2 px-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"Approve"]}),(0,a.jsxs)("button",{onClick:()=>q(e.id),disabled:P===e.id,className:"flex-1 bg-red-600 text-white text-sm py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),"APPROVED"===e.status&&(0,a.jsxs)("button",{onClick:()=>J(e.id),disabled:P===e.id,className:"flex-1 bg-yellow-600 text-white text-sm py-2 px-3 rounded-lg hover:bg-yellow-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"Suspend"]}),("REJECTED"===e.status||"SUSPENDED"===e.status)&&(0,a.jsxs)("button",{onClick:()=>G(e.id),disabled:P===e.id,className:"flex-1 bg-green-600 text-white text-sm py-2 px-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"Reactivate"]}),(0,a.jsx)("button",{onClick:()=>window.open("mailto:".concat(e.email),"_blank"),className:"bg-gray-100 text-gray-700 text-sm py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,a.jsx)(g.A,{})]})}},4416:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4861:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5196:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5339:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7340:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},7671:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]])},7924:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8883:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9084:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var a=t(5155),r=t(7340),l=t(7671),n=t(4186),i=t(381);let d=(0,t(9946).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var c=t(744),o=t(2713),u=t(5695),x=t(2115),m=t(2108);function h(){var e,s;let t=(0,u.useRouter)(),h=(0,u.usePathname)(),{data:g}=(0,m.useSession)(),p=(0,x.useCallback)(e=>{h!==e&&t.push(e)},[t,h]),y=(null==g||null==(e=g.user)?void 0:e.role)==="ADMIN"||(null==g||null==(s=g.user)?void 0:s.role)==="MANAGER"?"manager":"student",b=[{icon:r.A,label:"Home",path:"/student",isActive:"/student"===h},{icon:l.A,label:"Menu",path:"/student/menu",isActive:"/student/menu"===h},{icon:n.A,label:"Orders",path:"/student/orders",isActive:"/student/orders"===h},{icon:i.A,label:"Profile",path:"/student/profile",isActive:"/student/profile"===h}],N=[{icon:r.A,label:"Dashboard",path:"/admin",isActive:"/admin"===h},{icon:d,label:"Orders",path:"/admin/orders",isActive:"/admin/orders"===h},{icon:c.A,label:"Menu",path:"/admin/menu",isActive:"/admin/menu"===h},{icon:o.A,label:"Analytics",path:"/admin/analytics",isActive:"/admin/analytics"===h},{icon:i.A,label:"Settings",path:"/admin/settings",isActive:"/admin/settings"===h}];return"/"===h||h.startsWith("/auth/")?null:(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-pb",children:(0,a.jsx)("div",{className:"grid ".concat("manager"===y?"grid-cols-5":"grid-cols-4"),children:("student"===y?b:N).map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>p(e.path),className:"flex flex-col items-center justify-center py-3 px-1 transition-colors duration-200 ".concat(e.isActive?"text-green-600 bg-green-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"),children:[(0,a.jsx)(s,{className:"".concat("manager"===y?"w-4 h-4":"w-5 h-5"," mb-1")}),(0,a.jsx)("span",{className:"font-medium ".concat("manager"===y?"text-[10px]":"text-xs"),children:e.label})]},e.path)})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[6454,4691,8441,1684,7358],()=>s(2086)),_N_E=e.O()}]);