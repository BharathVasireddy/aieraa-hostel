(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8808],{381:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},744:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},1007:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1243:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2713:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},4229:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4355:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},4416:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4441:(e,s,a)=>{Promise.resolve().then(a.bind(a,7594))},4835:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4940:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},5196:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5525:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7340:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},7594:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(5155),r=a(2115),l=a(1243),i=a(5196),n=a(4416),c=a(4355),d=a(1007),o=a(5525),m=a(9397),x=a(4940),h=a(4229),u=a(8883),p=a(9420),y=a(381),g=a(9074),b=a(8749),f=a(2657),j=a(4835),v=a(2108),N=a(5695),w=a(9084),A=a(6694);function k(){var e,s;let{data:a}=(0,v.useSession)(),k=(0,N.useRouter)(),[M,C]=(0,r.useState)(null),[P,S]=(0,r.useState)(!0),[L,E]=(0,r.useState)("profile"),[z,D]=(0,r.useState)(!1),[F,H]=(0,r.useState)({name:"",email:"",phone:""}),[O,U]=(0,r.useState)(!1),[V,I]=(0,r.useState)(!1),[T,q]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[R,G]=(0,r.useState)({current:!1,new:!1,confirm:!1}),[_,Y]=(0,r.useState)(!1),[B,J]=(0,r.useState)(!1),[Z,W]=(0,r.useState)(null);(0,r.useEffect)(()=>{(null==a?void 0:a.user)&&X()},[a]),(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("tab");e&&["profile","security","activity"].includes(e)&&(E(e),"security"===e&&I(!0))},[]);let X=async()=>{try{S(!0);let e=await fetch("/api/admin/profile");if(e.ok){let s=await e.json();C(s.profile),H({name:s.profile.name||"",email:s.profile.email||"",phone:s.profile.phone||""})}else throw Error("Failed to fetch profile")}catch(e){console.error("Error fetching profile:",e),K("error","Failed to load profile data")}finally{S(!1)}},K=(e,s)=>{W({type:e,message:s}),setTimeout(()=>W(null),5e3)},Q=async e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){if(!a.type.startsWith("image/"))return void K("error","Please select an image file");if(a.size>5242880)return void K("error","Please select an image smaller than 5MB");J(!0);try{let e=URL.createObjectURL(a),s=await fetch("/api/admin/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...F,profileImage:e})});if(s.ok){let e=await s.json();C(e.profile),K("success","Profile picture updated successfully")}else throw Error("Failed to update profile picture")}catch(e){console.error("Error uploading image:",e),K("error","Failed to upload image")}finally{J(!1)}}},$=async()=>{if(!F.name||!F.email)return void K("error","Name and email are required");U(!0);try{let e=await fetch("/api/admin/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),s=await e.json();e.ok?(C(s.profile),D(!1),K("success","Profile updated successfully")):K("error",s.error||"Failed to update profile")}catch(e){console.error("Error updating profile:",e),K("error","Failed to update profile")}finally{U(!1)}},ee=async()=>{if(!T.currentPassword||!T.newPassword||!T.confirmPassword)return void K("error","All password fields are required");if(T.newPassword!==T.confirmPassword)return void K("error","New passwords do not match");if(T.newPassword.length<6)return void K("error","New password must be at least 6 characters long");Y(!0);try{let e=await fetch("/api/admin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),s=await e.json();e.ok?(q({currentPassword:"",newPassword:"",confirmPassword:""}),I(!1),K("success","Password changed successfully")):K("error",s.error||"Failed to change password")}catch(e){console.error("Error changing password:",e),K("error","Failed to change password")}finally{Y(!1)}},es=async()=>{confirm("Are you sure you want to logout?")&&await (0,v.signOut)({callbackUrl:"/auth/signin"})};return P?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):M?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[Z&&(0,t.jsx)("div",{className:"fixed top-4 left-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===Z.type?"bg-green-50 border border-green-200 text-green-800":"error"===Z.type?"bg-red-50 border border-red-200 text-red-800":"bg-yellow-50 border border-yellow-200 text-yellow-800"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["success"===Z.type&&(0,t.jsx)(i.A,{className:"w-5 h-5"}),"error"===Z.type&&(0,t.jsx)(n.A,{className:"w-5 h-5"}),"warning"===Z.type&&(0,t.jsx)(l.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",children:Z.message})]}),(0,t.jsx)("button",{onClick:()=>W(null),children:(0,t.jsx)(n.A,{className:"w-4 h-4"})})]})}),(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-10",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"My Profile"}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-1",children:"ADMIN"===M.role?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"\uD83D\uDC51 Super Admin"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\uD83C\uDFAF University Manager"})})]}),(0,t.jsx)("button",{onClick:()=>k.push("/admin"),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Back to Dashboard"})]})}),(0,t.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center overflow-hidden",children:M.profileImage?(0,t.jsx)("img",{src:M.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:(null==(s=M.name)||null==(e=s.charAt(0))?void 0:e.toUpperCase())||"A"})}),(0,t.jsxs)("label",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden",disabled:B}),B?(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(c.A,{className:"w-4 h-4 text-white"})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:M.name}),(0,t.jsx)("p",{className:"text-gray-600 font-medium",children:M.email}),M.phone&&(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:M.phone}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ADMIN"===M.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:M.role}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:M.status})]})]})]}),M.university&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"University Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Institution"}),(0,t.jsx)("p",{className:"font-medium",children:M.university.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Code"}),(0,t.jsx)("p",{className:"font-medium",children:M.university.code})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Location"}),(0,t.jsxs)("p",{className:"font-medium",children:[M.university.city,", ",M.university.state,", ",M.university.country]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Contact"}),(0,t.jsx)("p",{className:"font-medium",children:M.university.contactEmail})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,t.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,t.jsxs)("button",{onClick:()=>E("profile"),className:"flex-1 px-4 py-3 text-sm font-medium ".concat("profile"===L?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:[(0,t.jsx)(d.A,{className:"w-4 h-4 inline mr-2"}),"Profile"]}),(0,t.jsxs)("button",{onClick:()=>E("security"),className:"flex-1 px-4 py-3 text-sm font-medium ".concat("security"===L?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:[(0,t.jsx)(o.A,{className:"w-4 h-4 inline mr-2"}),"Security"]}),(0,t.jsxs)("button",{onClick:()=>E("activity"),className:"flex-1 px-4 py-3 text-sm font-medium ".concat("activity"===L?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:[(0,t.jsx)(m.A,{className:"w-4 h-4 inline mr-2"}),"Activity"]})]}),(0,t.jsxs)("div",{className:"p-6",children:["profile"===L&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),(0,t.jsxs)("button",{onClick:()=>{z?(H({name:M.name||"",email:M.email||"",phone:M.phone||""}),D(!1)):D(!0)},className:"flex items-center space-x-2 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:z?"Cancel":"Edit"})]})]}),z?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",value:F.name,onChange:e=>H({...F,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",value:F.email,onChange:e=>H({...F,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:F.phone,onChange:e=>H({...F,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),(0,t.jsx)("div",{className:"flex space-x-3",children:(0,t.jsxs)("button",{onClick:$,disabled:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[O?(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(h.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Save Changes"})]})})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,t.jsx)(d.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Full Name"})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:M.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Email Address"})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:M.email})]}),M.phone&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,t.jsx)(p.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Phone Number"})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:M.phone})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Account Type"})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:M.role})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Member Since"})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:(0,A.GP)(new Date(M.createdAt),"MMMM dd, yyyy")})]}),M.lastLoginAt&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mb-1",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Last Login"})]}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:(0,A.GP)(new Date(M.lastLoginAt),"MMMM dd, yyyy h:mm a")})]})]})]})]}),"security"===L&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Password & Security"}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(o.A,{className:"w-5 h-5 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Account Security"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Your account is secured with a strong password"})]})]})}),(0,t.jsxs)("button",{onClick:()=>I(!V),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(o.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Change Password"})]}),V&&(0,t.jsxs)("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:R.current?"text":"password",value:T.currentPassword,onChange:e=>q({...T,currentPassword:e.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"}),(0,t.jsx)("button",{type:"button",onClick:()=>G({...R,current:!R.current}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:R.current?(0,t.jsx)(b.A,{className:"w-4 h-4"}):(0,t.jsx)(f.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:R.new?"text":"password",value:T.newPassword,onChange:e=>q({...T,newPassword:e.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"}),(0,t.jsx)("button",{type:"button",onClick:()=>G({...R,new:!R.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:R.new?(0,t.jsx)(b.A,{className:"w-4 h-4"}):(0,t.jsx)(f.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:R.confirm?"text":"password",value:T.confirmPassword,onChange:e=>q({...T,confirmPassword:e.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"}),(0,t.jsx)("button",{type:"button",onClick:()=>G({...R,confirm:!R.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:R.confirm?(0,t.jsx)(b.A,{className:"w-4 h-4"}):(0,t.jsx)(f.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:ee,disabled:_,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[_?(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(i.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Update Password"})]}),(0,t.jsx)("button",{onClick:()=>{I(!1),q({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})}),"activity"===L&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Activity"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"w-4 h-4 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Account Created"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Your account was successfully created"})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:(0,A.GP)(new Date(M.createdAt),"MMM dd, yyyy")})]}),M.lastLoginAt&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(m.A,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Last Login"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"You signed in to your account"})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:(0,A.GP)(new Date(M.lastLoginAt),"MMM dd, yyyy h:mm a")})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(y.A,{className:"w-4 h-4 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Profile Updated"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Your profile information was last updated"})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:(0,A.GP)(new Date(M.updatedAt),"MMM dd, yyyy")})]})]})]})]})]}),(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-red-900",children:"Logout"}),(0,t.jsx)("p",{className:"text-red-700 text-sm mt-1",children:"Sign out of your account securely"})]}),(0,t.jsxs)("button",{onClick:es,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,t.jsx)(j.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Logout"})]})]})})]}),(0,t.jsx)(w.A,{})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Failed to load profile data"}),(0,t.jsx)("button",{onClick:X,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}},7671:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]])},8749:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8883:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9074:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9084:(e,s,a)=>{"use strict";a.d(s,{A:()=>u});var t=a(5155),r=a(7340),l=a(7671),i=a(4186),n=a(381);let c=(0,a(9946).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var d=a(744),o=a(2713),m=a(5695),x=a(2115),h=a(2108);function u(){var e,s;let a=(0,m.useRouter)(),u=(0,m.usePathname)(),{data:p}=(0,h.useSession)(),y=(0,x.useCallback)(e=>{u!==e&&a.push(e)},[a,u]),g=(null==p||null==(e=p.user)?void 0:e.role)==="ADMIN"||(null==p||null==(s=p.user)?void 0:s.role)==="MANAGER"?"manager":"student",b=[{icon:r.A,label:"Home",path:"/student",isActive:"/student"===u},{icon:l.A,label:"Menu",path:"/student/menu",isActive:"/student/menu"===u},{icon:i.A,label:"Orders",path:"/student/orders",isActive:"/student/orders"===u},{icon:n.A,label:"Profile",path:"/student/profile",isActive:"/student/profile"===u}],f=[{icon:r.A,label:"Dashboard",path:"/admin",isActive:"/admin"===u},{icon:c,label:"Orders",path:"/admin/orders",isActive:"/admin/orders"===u},{icon:d.A,label:"Menu",path:"/admin/menu",isActive:"/admin/menu"===u},{icon:o.A,label:"Analytics",path:"/admin/analytics",isActive:"/admin/analytics"===u},{icon:n.A,label:"Settings",path:"/admin/settings",isActive:"/admin/settings"===u}];return"/"===u||u.startsWith("/auth/")?null:(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-pb",children:(0,t.jsx)("div",{className:"grid ".concat("manager"===g?"grid-cols-5":"grid-cols-4"),children:("student"===g?b:f).map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>y(e.path),className:"flex flex-col items-center justify-center py-3 px-1 transition-colors duration-200 ".concat(e.isActive?"text-green-600 bg-green-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"),children:[(0,t.jsx)(s,{className:"".concat("manager"===g?"w-4 h-4":"w-5 h-5"," mb-1")}),(0,t.jsx)("span",{className:"font-medium ".concat("manager"===g?"text-[10px]":"text-xs"),children:e.label})]},e.path)})})})}},9397:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},9420:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6454,4691,8441,1684,7358],()=>s(4441)),_N_E=e.O()}]);